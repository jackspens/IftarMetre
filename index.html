<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ramazan Metre</title>
<style>
body{
margin:0;
background:radial-gradient(circle at bottom,#0b0c2a,#000);
color:white;
font-family:Tahoma;
text-align:center;
}

h1{margin-top:20px;}

#topInfo{
display:flex;
justify-content:space-between;
align-items:center;
padding:0 20px;
margin-top:20px;
}

#gun{
font-size:48px;
font-weight:bold;
color:green;
}

#kalan{
font-size:48px;
font-weight:bold;
color:red;
}

select{
margin-top:15px;
padding:6px;
font-size:14px;
font-family:Tahoma;
}

#imsak{
margin-top:10px;
font-size:20px;
}

#countdownImsak{
margin-top:10px;
font-size:24px;
color: red;
}

#iftar{
margin-top:10px;
font-size:24px;
color: blue;
}

#countdownIftar{
font-size:22px;
margin-bottom:10px;
color: green;
font-family:Tahoma;
}

#ramazanList{
width:90%;
max-width:500px;
margin:20px auto;
text-align:left;
}

#clock{font-size:22px;margin:10px;}

.dayItem{
padding:6px;
border-bottom:1px solid #333;
}

.passed{
color:#7CFC00;
}

.star{
position:absolute;
width:3px;
height:3px;
background:white;
animation:float 6s infinite linear;
}

@keyframes float{
from{transform:translateY(100vh);}
to{transform:translateY(-10vh);}
}
</style>
</head>
<body>

<h1>ðŸŒ™ IftarMetre by Ersin Ucan</h1>

<div id="topInfo">
<div id="gun"></div>
<div id="kalan"></div>
</div>

<div id="clock"></div>

<div id="iftar"></div>
<div id="countdownIftar"></div>

<div> -------- </div>

<div id="imsak"></div>
<div id="countdownImsak"></div>

<select id="citySelect"></select>

<h2>Ramazan GÃ¼nleri</h2>
<div id="ramazanList"></div>

<script>

// CANLI SAAT
function updateClock(){
let now=new Date();
document.getElementById("clock").innerText=
now.toLocaleDateString("tr-TR")+" "+now.toLocaleTimeString("tr-TR");
}
setInterval(updateClock,1000);
updateClock();

// RAMAZAN TARÄ°HÄ° (2026 Ã¶rnek)
const ramazanStart=new Date("2026-02-18");
const totalDays=30;
let today=new Date();
let diffDays=Math.floor((today-ramazanStart)/(1000*60*60*24))+1;

if(diffDays>0 && diffDays<=30){
document.getElementById("ramazanInfo").innerText=
"RamazanÄ±n "+diffDays+". gÃ¼nÃ¼";
document.getElementById("kalanGun").innerText=
"Bitmesine "+(30-diffDays)+" gÃ¼n kaldÄ±";
}else{
document.getElementById("ramazanInfo").innerText=
"Ramazan dÃ¶nemi dÄ±ÅŸÄ±nda";
}

// TÃœM Ä°LLER
const cities = [
"Adana","AdÄ±yaman","Afyonkarahisar","AÄŸrÄ±","Aksaray","Amasya","Ankara",
"Antalya","Ardahan","Artvin","AydÄ±n","BalÄ±kesir","BartÄ±n","Batman",
"Bayburt","Bilecik","BingÃ¶l","Bitlis","Bolu","Burdur","Bursa","Ã‡anakkale",
"Ã‡ankÄ±rÄ±","Ã‡orum","Denizli","DiyarbakÄ±r","DÃ¼zce","Edirne","ElazÄ±ÄŸ",
"Erzincan","Erzurum","EskiÅŸehir","Gaziantep","Giresun","GÃ¼mÃ¼ÅŸhane",
"Hakkari","Hatay","IÄŸdÄ±r","Isparta","Ä°stanbul","Ä°zmir","KahramanmaraÅŸ",
"KarabÃ¼k","Karaman","Kars","Kastamonu","Kayseri","Kilis","KÄ±rÄ±kkale",
"KÄ±rklareli","KÄ±rÅŸehir","Kocaeli","Konya","KÃ¼tahya","Malatya","Manisa",
"Mardin","Mersin","MuÄŸla","MuÅŸ","NevÅŸehir","NiÄŸde","Ordu","Osmaniye",
"Rize","Sakarya","Samsun","Siirt","Sinop","Sivas","ÅžanlÄ±urfa","ÅžÄ±rnak",
"TekirdaÄŸ","Tokat","Trabzon","Tunceli","UÅŸak","Van","Yalova","Yozgat","Zonguldak"
];

const select = document.getElementById("citySelect");

// DEFAULT ISTANBUL
let selectedCity = localStorage.getItem("city") || "Ä°stanbul";

cities.forEach(city=>{
let option=document.createElement("option");
option.value=city;
option.textContent=city;
if(city===selectedCity) option.selected=true;
select.appendChild(option);
});

select.addEventListener("change",function(){
localStorage.setItem("city",this.value);
location.reload();
});

// RAMAZAN TARÄ°HÄ° (2026)
const ramazanStart=new Date("2026-02-18");
const totalDays=30;
let today=new Date();

let diffDays=Math.floor((today-ramazanStart)/(1000*60*60*24))+1;

if(diffDays>0 && diffDays<=30){
document.getElementById("gun").innerText=diffDays+". GÃ¼n";
document.getElementById("kalan").innerText=(30-diffDays)+" GÃ¼n KaldÄ±";
}else{
document.getElementById("gun").innerText="Ramazan DÄ±ÅŸÄ±";
document.getElementById("kalan").innerText="";
}

// GÃœN LÄ°STESÄ°
const list=document.getElementById("ramazanList");

for(let i=1;i<=30;i++){
let date=new Date(ramazanStart);
date.setDate(date.getDate()+i-1);

let formatted=date.toLocaleDateString("tr-TR",{weekday:'long',day:'2-digit',month:'2-digit',year:'numeric'});

let div=document.createElement("div");
div.className="dayItem";

if(i<diffDays){
div.classList.add("passed");
div.innerText=i+" - "+formatted+" âœ”";
}else{
div.innerText=i+" - "+formatted;
}

list.appendChild(div);
}

// VAKÄ°T Ã‡EKME
fetch(`https://api.aladhan.com/v1/timingsByCity?city=${selectedCity}&country=Turkey&method=13`)
.then(res=>res.json())
.then(data=>{
const timings=data.data.timings;

document.getElementById("imsak").innerText="Ä°msak: "+timings.Fajr;
document.getElementById("iftar").innerText="Ä°ftar: "+timings.Maghrib;

startCountdown(timings.Fajr,"countdownImsak");
startCountdown(timings.Maghrib,"countdownIftar");
});

function startCountdown(timeStr,id){
let parts=timeStr.split(":");
setInterval(()=>{
let now=new Date();
let target=new Date();
target.setHours(parts[0]);
target.setMinutes(parts[1]);
target.setSeconds(0);
if(target<now){target.setDate(target.getDate()+1);}
let diff=target-now;
let h=Math.floor(diff/(1000*60*60));
let m=Math.floor((diff/(1000*60))%60);
let s=Math.floor((diff/1000)%60);
document.getElementById(id).innerText=
h+"s "+m+"d "+s+"sn kaldÄ±";
},1000);
}

// ANTIGRAVITY
for(let i=0;i<120;i++){
let star=document.createElement("div");
star.className="star";
star.style.left=Math.random()*100+"vw";
star.style.animationDuration=(3+Math.random()*5)+"s";
document.body.appendChild(star);
}

</script>
</body>
</html>
